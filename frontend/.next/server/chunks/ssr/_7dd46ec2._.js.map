{"version":3,"sources":["turbopack:///[project]/components/webgl/WebGLBackground.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as THREE from 'three';\r\nimport { useRef, useMemo } from 'react';\r\nimport { Mesh, ShaderMaterial } from 'three';\r\nimport { Canvas, useFrame } from '@react-three/fiber';\r\n\r\n// Shader to create an animated and subtle 3D mesh\r\nconst vertexShader = `\r\n  uniform float uTime;\r\n  uniform vec2 uMouse;\r\n  varying vec3 vPosition;\r\n  varying vec3 vNormal;\r\n  \r\n  void main() {\r\n    vPosition = position;\r\n    vNormal = normal;\r\n    \r\n    vec3 pos = position;\r\n    // Smooth wave effect based on time and position\r\n    float wave = sin(pos.x * 0.5 + uTime) * 0.1 + \r\n                 cos(pos.y * 0.5 + uTime * 0.8) * 0.1;\r\n    pos.z += wave;\r\n    \r\n    // Subtle mouse interaction effect\r\n    float mouseInfluence = length(uMouse - vec2(pos.x, pos.y)) * 0.01;\r\n    pos.z += mouseInfluence * 0.2;\r\n    \r\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\r\n  }\r\n`;\r\n\r\nconst fragmentShader = `\r\n  uniform float uTime;\r\n  varying vec3 vPosition;\r\n  varying vec3 vNormal;\r\n  \r\n  void main() {\r\n    // Color based on position and normal to create depth\r\n    vec3 color1 = vec3(0.0, 0.8, 1.0); // cyan\r\n    vec3 color2 = vec3(0.2, 0.4, 1.0); // blue\r\n    vec3 color3 = vec3(0.5, 0.3, 1.0); // purple\r\n    \r\n    float mixFactor = (vNormal.y + 1.0) * 0.5;\r\n    vec3 color = mix(color1, mix(color2, color3, 0.5), mixFactor);\r\n    \r\n    // Very low opacity to maintain minimalism\r\n    float alpha = 0.08;\r\n    \r\n    // Subtle glow effect based on position\r\n    float glow = sin(vPosition.x * 0.5 + uTime) * 0.5 + 0.5;\r\n    alpha *= glow * 0.5 + 0.5;\r\n    \r\n    gl_FragColor = vec4(color, alpha);\r\n  }\r\n`;\r\n\r\nfunction AnimatedMesh({ mouse, windowSize }: { mouse: { x: number; y: number }; windowSize: { width: number; height: number } }) {\r\n  const meshRef = useRef<Mesh>(null);\r\n  const materialRef = useRef<ShaderMaterial>(null);\r\n\r\n  useFrame(({ clock }) => {\r\n    if (materialRef.current) {\r\n      materialRef.current.uniforms.uTime.value = clock.getElapsedTime();\r\n      // Normalize mouse position to 3D space\r\n      materialRef.current.uniforms.uMouse.value = [\r\n        (mouse.x / windowSize.width) * 10 - 5,\r\n        -(mouse.y / windowSize.height) * 10 + 5,\r\n      ];\r\n    }\r\n  });\r\n\r\n  const uniforms = useMemo(\r\n    () => ({\r\n      uTime: { value: 0 },\r\n      uMouse: { value: [0, 0] },\r\n    }),\r\n    []\r\n  );\r\n\r\n  return (\r\n    <mesh ref={meshRef} rotation={[0, 0, 0]} position={[0, 0, -5]}>\r\n      <planeGeometry args={[20, 20, 50, 50]} />\r\n      <shaderMaterial\r\n        ref={materialRef}\r\n        vertexShader={vertexShader}\r\n        fragmentShader={fragmentShader}\r\n        uniforms={uniforms}\r\n        transparent\r\n        side={THREE.DoubleSide}\r\n      />\r\n    </mesh>\r\n  );\r\n}\r\n\r\ninterface WebGLBackgroundProps {\r\n  mouse: { x: number; y: number };\r\n  windowSize: { width: number; height: number };\r\n}\r\n\r\nexport default function WebGLBackground({ mouse, windowSize }: WebGLBackgroundProps) {\r\n  return (\r\n    <div className=\"fixed inset-0 pointer-events-none z-0\">\r\n      <Canvas\r\n        camera={{ position: [0, 0, 5], fov: 75 }}\r\n        gl={{ alpha: true, antialias: true }}\r\n        style={{ width: '100%', height: '100%' }}\r\n      >\r\n        <AnimatedMesh mouse={mouse} windowSize={windowSize} />\r\n      </Canvas>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"kJAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAGA,IAAM,EAAe,CAAC;;;;;;;;;;;;;;;;;;;;;;AAsBtB,CAAC,CAEK,EAAiB,CAAC;;;;;;;;;;;;;;;;;;;;;;;AAuBxB,CAAC,CAED,SAAS,EAAa,OAAE,CAAK,YAAE,CAAU,CAAsF,EAC7H,IAAM,EAAU,CAAA,EAAA,EAAA,MAAA,AAAM,EAAO,MACvB,EAAc,CAAA,EAAA,EAAA,MAAA,AAAM,EAAiB,MAE3C,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAC,OAAE,CAAK,CAAE,IACb,EAAY,OAAO,EAAE,CACvB,EAAY,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAG,EAAM,cAAc,GAE/D,EAAY,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAG,CACzC,EAAM,CAAC,CAAG,EAAW,KAAK,CAAI,GAAK,IACpC,AAAiC,CAAhC,GAAC,EAAM,CAAC,CAAG,EAAW,MAAA,AAAM,CAAI,EAAK,EACvC,CAEL,GAEA,IAAM,EAAW,CAAA,EAAA,EAAA,OAAA,AAAO,EACtB,IAAM,CAAC,CACL,MAAO,CAAE,MAAO,CAAE,EAClB,OAAQ,CAAE,MAAO,CAAC,EAAG,EAAE,AAAC,EAC1B,CAAC,CACD,EAAE,EAGJ,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,IAAK,EAAS,SAAU,CAAC,EAAG,EAAG,EAAE,CAAE,SAAU,CAAC,EAAG,EAAG,CAAC,EAAE,WAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,gBAAA,CAAc,KAAM,CAAC,GAAI,GAAI,GAAI,GAAG,GACrC,CAAA,EAAA,EAAA,GAAA,EAAC,iBAAA,CACC,IAAK,EACL,aAAc,EACd,eAAgB,EAChB,SAAU,EACV,WAAW,CAAA,CAAA,EACX,KAAM,EAAA,UAAgB,KAI9B,CAOe,SAAS,EAAgB,OAAE,CAAK,YAAE,CAAU,CAAwB,EACjF,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,OAAQ,CAAE,SAAU,CAAC,EAAG,EAAG,EAAE,CAAE,IAAK,EAAG,EACvC,GAAI,CAAE,OAAO,EAAM,WAAW,CAAK,EACnC,MAAO,CAAE,MAAO,OAAQ,OAAQ,MAAO,WAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,MAAO,EAAO,WAAY,OAIhD"}