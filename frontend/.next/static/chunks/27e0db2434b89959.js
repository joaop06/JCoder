(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33327,e=>{"use strict";e.s(["ImagesService",()=>a]);var s=e.i(90119);let a={async uploadApplicationImages(e,a,t){try{let r=new FormData;return t.forEach(e=>{r.append("images",e)}),(await s.ApiService.post("/".concat(e,"/images/applications/").concat(a),r)).data.data}catch(e){throw e}},getApplicationImageUrl:(e,s,a)=>"".concat("http://localhost:8081","/api/v1/").concat(e,"/images/applications/").concat(s,"/").concat(a),async deleteApplicationImage(e,a,t){try{await s.ApiService.delete("/".concat(e,"/images/applications/").concat(a,"/").concat(t))}catch(e){throw e}},async uploadApplicationProfileImage(e,a,t){try{let r=new FormData;return r.append("profileImage",t),(await s.ApiService.post("/".concat(e,"/images/applications/").concat(a,"/profile-image"),r)).data.data}catch(e){throw e}},async updateApplicationProfileImage(e,a,t){try{let r=new FormData;return r.append("profileImage",t),(await s.ApiService.put("/".concat(e,"/images/applications/").concat(a,"/profile-image"),r)).data.data}catch(e){throw e}},getApplicationProfileImageUrl:(e,s)=>"".concat("http://localhost:8081","/api/v1/").concat(e,"/images/applications/").concat(s,"/profile-image"),async deleteApplicationProfileImage(e,a){try{await s.ApiService.delete("/".concat(e,"/images/applications/").concat(a,"/profile-image"))}catch(e){throw e}},async uploadTechnologyProfileImage(e,a,t){try{let r=new FormData;return r.append("profileImage",t),(await s.ApiService.post("/".concat(e,"/images/technologies/").concat(a,"/profile-image"),r,{headers:{"Content-Type":"multipart/form-data"}})).data.data}catch(e){throw e}},getTechnologyProfileImageUrl:(e,s)=>"".concat("http://localhost:8081","/api/v1/").concat(e,"/images/technologies/").concat(s,"/profile-image"),async deleteTechnologyProfileImage(e,a){try{await s.ApiService.delete("/".concat(e,"/images/technologies/").concat(a,"/profile-image"))}catch(e){throw e}},async uploadUserProfileImage(e,a,t){try{let r=new FormData;return r.append("profileImage",t),(await s.ApiService.post("/".concat(e,"/images/users/").concat(a,"/profile-image"),r,{headers:{"Content-Type":"multipart/form-data"}})).data.data}catch(e){throw e}},getUserProfileImageUrl:(e,s)=>"".concat("http://localhost:8081","/api/v1/").concat(e,"/images/users/").concat(s,"/profile-image"),async deleteUserProfileImage(e,a){try{await s.ApiService.delete("/".concat(e,"/images/users/").concat(a,"/profile-image"))}catch(e){throw e}},async uploadCertificateImage(e,a,t){try{let r=new FormData;return r.append("certificateImage",t),(await s.ApiService.post("/".concat(e,"/images/users/certificates/").concat(a,"/image"),r,{headers:{"Content-Type":"multipart/form-data"}})).data.data}catch(e){throw e}},getCertificateImageUrl:(e,s)=>"".concat("http://localhost:8081","/api/v1/").concat(e,"/images/users/certificates/").concat(s,"/image"),async deleteCertificateImage(e,a){try{await s.ApiService.delete("/".concat(e,"/images/users/certificates/").concat(a,"/image"))}catch(e){throw e}}}},71361,e=>{"use strict";e.s(["default",()=>x],71361);var s=e.i(78196),a=e.i(58293),t=e.i(56691),r=e.i(70119),c=e.i(46257),l=e.i(99681),n=e.i(82205),f=e.i(98428),i=e.i(49430),o=e.i(90119);let d={async findAllConversations(e){try{var s;let a=await o.ApiService.get("/".concat(e,"/messages/conversations"));return Array.isArray(a.data)?a.data:(null==(s=a.data)?void 0:s.data)||[]}catch(e){throw e}},async findMessagesByConversation(e,s){try{var a;let t=await o.ApiService.get("/".concat(e,"/messages/conversations/").concat(s,"/messages"));return Array.isArray(t.data)?t.data:(null==(a=t.data)?void 0:a.data)||[]}catch(e){throw e}},async markMessagesAsRead(e,s,a){try{await o.ApiService.post("/".concat(e,"/messages/conversations/").concat(s,"/mark-read"),a)}catch(e){throw e}},async findById(e,s){try{var a;let t=await o.ApiService.get("/".concat(e,"/messages/").concat(s));return(null==(a=t.data)?void 0:a.data)||t.data}catch(e){throw e}},async delete(e,s){try{await o.ApiService.delete("/".concat(e,"/messages/").concat(s))}catch(e){throw e}}};function x(){let e=(0,c.useRouter)(),o=(0,c.useParams)(),x=(0,i.useMemo)(()=>{let e=null==o?void 0:o.username;return Array.isArray(e)?e[0]:e||""},[o]),[m,u]=(0,i.useState)(!0),[j,h]=(0,i.useState)(!1),[b,g]=(0,i.useState)(!0),[p,v]=(0,i.useState)(null),[w,y]=(0,i.useState)([]),[N,A]=(0,i.useState)(null),[k,S]=(0,i.useState)([]),[C,D]=(0,i.useState)(!1),[M,T]=(0,i.useState)(!1),[L,F]=(0,i.useState)(null),[U,I]=(0,i.useState)(!1),[E,z]=(0,i.useState)("conversations"),[P,Y]=(0,i.useState)({x:0,y:0}),[_,B]=(0,i.useState)({width:1920,height:1080}),[R,W]=(0,i.useState)(!1),q=(0,i.useRef)({x:0,y:0}),H=(0,i.useRef)(null),O=(0,i.useRef)(null),K=(0,i.useRef)(null),X=(0,i.useRef)(null),G=(0,l.useToast)();(0,i.useEffect)(()=>{W(!0);let e=()=>{B({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{let e=e=>{q.current={x:e.clientX,y:e.clientY},null===H.current&&(H.current=requestAnimationFrame(()=>{Y(q.current),H.current=null}))};return window.addEventListener("mousemove",e,{passive:!0}),()=>{window.removeEventListener("mousemove",e),null!==H.current&&cancelAnimationFrame(H.current)}},[]),(0,i.useEffect)(()=>{if(!localStorage.getItem("accessToken"))return void e.push("/sign-in");let s=async()=>{try{if(x){let e=await f.UsersService.getProfile(x);v(e)}else{let e=f.UsersService.getUserSession();(null==e?void 0:e.user)&&v(e.user)}}catch(s){console.error("Error loading user profile:",s);let e=f.UsersService.getUserSession();(null==e?void 0:e.user)&&v(e.user)}};h(!0),g(!1),s()},[e,x]);let J=(0,i.useCallback)(async()=>{u(!0);try{var e;let s=f.UsersService.getUserSession();if(!(null==s||null==(e=s.user)?void 0:e.username))throw Error("User session not found");let a=await d.findAllConversations(s.user.username);y(Array.isArray(a)?a:[])}catch(e){G.error("Failed to load conversations. Please try again."),console.error("Error fetching conversations:",e),y([])}finally{u(!1)}},[G]),Q=(0,i.useCallback)(async e=>{D(!0);try{var s;let a=f.UsersService.getUserSession();if(!(null==a||null==(s=a.user)?void 0:s.username))throw Error("User session not found");let t=await d.findMessagesByConversation(a.user.username,e),r=Array.isArray(t)?t:[];return S(r),r}catch(e){return G.error("Failed to load messages. Please try again."),console.error("Error fetching messages:",e),S([]),[]}finally{D(!1)}},[G]),V=(0,i.useCallback)(async(e,s)=>{if(!M&&0!==s.length){T(!0);try{var a;let t=f.UsersService.getUserSession();if(!(null==t||null==(a=t.user)?void 0:a.username))throw Error("User session not found");await d.markMessagesAsRead(t.user.username,e,{messageIds:s}),S(e=>e.map(e=>s.includes(e.id)?{...e,readAt:e.readAt||new Date().toISOString()}:e));let r=await d.findAllConversations(t.user.username),c=Array.isArray(r)?r:[];y(c);let l=c.find(s=>s.id===e);l&&A(l)}catch(e){G.error("Failed to mark messages as read."),console.error("Error marking messages as read:",e)}finally{T(!1)}}},[G,M]);(0,i.useEffect)(()=>{j&&J()},[j,J]),(0,i.useEffect)(()=>{k.length>0&&!C&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{K.current&&(K.current.scrollTop=K.current.scrollHeight),X.current&&(X.current.scrollTop=X.current.scrollHeight)})})},[k,C,N]),(0,i.useEffect)(()=>{if(U){let e=setTimeout(()=>{I(!1),setTimeout(()=>{F(null)},500)},3e3);return()=>clearTimeout(e)}},[U]);let Z=(0,i.useCallback)(async e=>{A(e);let s=await Q(e.id),a=s.findIndex(e=>!e.readAt);a>0&&-1!==a?(F(a),I(!0)):(F(null),I(!1));let t=s.filter(e=>!e.readAt).map(e=>e.id);t.length>0&&await V(e.id,t),_.width<768&&z("messages")},[Q,V,_.width]),$=(0,i.useCallback)(()=>{z("conversations"),A(null),S([]),F(null),I(!1)},[]),ee=(0,i.useCallback)(e=>{if(!e)return"";let s="string"==typeof e?new Date(e):e;if(isNaN(s.getTime()))return"";let a=new Date,t=new Date(a.getFullYear(),a.getMonth(),a.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate()),c=new Date(t);return(c.setDate(c.getDate()-1),r.getTime()===t.getTime())?s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):r.getTime()===c.getTime()?"Yesterday":s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:s.getFullYear()!==a.getFullYear()?"numeric":void 0})},[]),es=(0,i.useCallback)(e=>{if(!e)return"";let s="string"==typeof e?new Date(e):e;return isNaN(s.getTime())?"":s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})},[]),ea=(0,i.useCallback)(e=>{let s=e.trim().split(" ");return s.length>=2?(s[0][0]+s[s.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()},[]),et=(0,i.useCallback)(()=>{localStorage.removeItem("user"),localStorage.removeItem("accessToken"),e.push("/")},[e]);return b||!j?(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-background overflow-hidden relative",children:[(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(i.Suspense,{fallback:null,children:(0,s.jsx)(n.default,{mouse:P,windowSize:_})})}),(0,s.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[(0,s.jsx)("div",{className:"absolute w-48 h-48 sm:w-64 sm:h-64 md:w-96 md:h-96 bg-jcoder-cyan/20 rounded-full blur-3xl animate-pulse",style:{left:"".concat(P.x/20,"px"),top:"".concat(P.y/20,"px"),transition:"all 0.3s ease-out"}}),(0,s.jsx)("div",{className:"absolute w-48 h-48 sm:w-64 sm:h-64 md:w-96 md:h-96 bg-jcoder-blue/20 rounded-full blur-3xl animate-pulse delay-1000",style:{right:"".concat(P.x/25,"px"),bottom:"".concat(P.y/25,"px"),transition:"all 0.3s ease-out"}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:16px_16px] md:bg-[size:24px_24px]"})]}),(0,s.jsx)(r.default,{isAdmin:!0,onLogout:et}),(0,s.jsx)("main",{className:"flex-1 container mx-auto px-4 sm:px-6 lg:px-8 pt-16 sm:pt-24 pb-6 sm:pb-12 relative z-10",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"h-8 sm:h-10 w-48 sm:w-64 bg-jcoder-secondary rounded-lg mb-2 animate-pulse"}),(0,s.jsx)("div",{className:"h-3 sm:h-4 w-64 sm:w-96 bg-jcoder-secondary rounded-lg animate-pulse"})]})}),(0,s.jsx)(t.default,{user:p,username:x||(null==p?void 0:p.username)})]}):(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 min-h-screen flex flex-col bg-background overflow-hidden relative",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 hidden md:block",children:(0,s.jsx)(i.Suspense,{fallback:null,children:(0,s.jsx)(n.default,{mouse:P,windowSize:_})})}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 fixed inset-0 overflow-hidden pointer-events-none z-0",children:[(0,s.jsx)("div",{style:{left:"".concat(P.x/20,"px"),top:"".concat(P.y/20,"px"),transition:"all 0.3s ease-out"},className:"jsx-9aeffe8ff0b86c65 absolute w-48 h-48 sm:w-64 sm:h-64 md:w-96 md:h-96 bg-jcoder-cyan/20 rounded-full blur-3xl animate-pulse"}),(0,s.jsx)("div",{style:{right:"".concat(P.x/25,"px"),bottom:"".concat(P.y/25,"px"),transition:"all 0.3s ease-out"},className:"jsx-9aeffe8ff0b86c65 absolute w-48 h-48 sm:w-64 sm:h-64 md:w-96 md:h-96 bg-jcoder-blue/20 rounded-full blur-3xl animate-pulse delay-1000"}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:16px_16px] md:bg-[size:24px_24px]"})]}),(0,s.jsx)(r.default,{isAdmin:!0,onLogout:et}),(0,s.jsx)("main",{className:"jsx-9aeffe8ff0b86c65 flex-1 container mx-auto px-4 sm:px-6 lg:px-8 pt-16 sm:pt-24 pb-6 sm:pb-12 relative z-10",children:(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 "+"max-w-7xl mx-auto transition-all duration-1000 h-full md:h-auto ".concat(R?"opacity-100 translate-y-0":"opacity-0 translate-y-10"),children:[(0,s.jsx)("nav",{className:"jsx-9aeffe8ff0b86c65 mb-4 px-4 mt-4 md:mt-0",children:(0,s.jsxs)("ol",{className:"jsx-9aeffe8ff0b86c65 flex items-center gap-2 text-sm text-jcoder-muted",children:[(0,s.jsx)("li",{className:"jsx-9aeffe8ff0b86c65",children:(0,s.jsx)("button",{onClick:()=>e.push("/".concat(x,"/admin")),className:"jsx-9aeffe8ff0b86c65 hover:text-jcoder-primary transition-colors group cursor-pointer",children:(0,s.jsx)("span",{className:"jsx-9aeffe8ff0b86c65 group-hover:underline",children:"Dashboard"})})}),(0,s.jsx)("li",{className:"jsx-9aeffe8ff0b86c65",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9aeffe8ff0b86c65 w-4 h-4",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7",className:"jsx-9aeffe8ff0b86c65"})})}),(0,s.jsx)("li",{className:"jsx-9aeffe8ff0b86c65 text-jcoder-foreground font-medium",children:"Messages"})]})}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 mb-2 sm:mb-4 md:mb-6 px-4",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center gap-3",children:(0,s.jsx)("h1",{className:"jsx-9aeffe8ff0b86c65 text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-jcoder-foreground",children:"Messages"})}),(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-xs sm:text-sm md:text-base text-jcoder-muted mt-1 sm:mt-2",children:"Manage and view messages from your portfolio visitors"})]}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 bg-jcoder-card border border-jcoder rounded-xl sm:rounded-2xl overflow-hidden shadow-xl shadow-jcoder-primary/10 h-[calc(100vh-12rem)] md:h-[calc(100vh-36rem)] flex flex-col px-2 md:px-0",children:[(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 hidden md:flex flex-1 overflow-hidden",children:[(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 w-80 border-r border-jcoder flex flex-col bg-jcoder-card",children:[(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 p-4 border-b border-jcoder bg-jcoder-card",children:[(0,s.jsx)("h2",{className:"jsx-9aeffe8ff0b86c65 text-lg font-semibold text-jcoder-foreground",children:"Conversations"}),(0,s.jsxs)("p",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted mt-1",children:[w.length," ",1===w.length?"conversation":"conversations"]})]}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex-1 overflow-y-auto",children:m?(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 p-4 space-y-3",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center gap-3 p-3 bg-jcoder-secondary rounded-lg animate-pulse",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 w-12 h-12 rounded-full bg-jcoder-secondary"}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex-1",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 h-4 w-24 bg-jcoder-secondary rounded mb-2"}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 h-3 w-full bg-jcoder-secondary rounded"})]})]},e))}):0===w.length?(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 p-8 text-center",children:[(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9aeffe8ff0b86c65 w-16 h-16 mx-auto text-jcoder-muted/50 mb-4",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",className:"jsx-9aeffe8ff0b86c65"})}),(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-jcoder-muted",children:"No conversations yet"}),(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-sm text-jcoder-muted/70 mt-1",children:"Messages from your portfolio will appear here"})]}):(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 divide-y divide-jcoder/50",children:w.map(e=>(0,s.jsx)("button",{onClick:()=>Z(e),className:"jsx-9aeffe8ff0b86c65 "+"w-full p-4 text-left hover:bg-jcoder-secondary transition-colors cursor-pointer ".concat((null==N?void 0:N.id)===e.id?"bg-jcoder-secondary border-l-4 border-jcoder-primary":""),children:(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-start gap-3",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex-shrink-0 w-12 h-12 rounded-full bg-jcoder-gradient flex items-center justify-center text-black font-semibold text-sm",children:ea(e.senderName)}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center justify-between mb-1",children:[(0,s.jsx)("h3",{className:"jsx-9aeffe8ff0b86c65 font-semibold text-sm text-jcoder-foreground truncate",children:e.senderName}),e.lastMessageAt&&(0,s.jsx)("span",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted flex-shrink-0 ml-2",children:ee(e.lastMessageAt)})]}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center justify-between gap-2",children:[(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted truncate flex-1",children:e.lastMessagePreview||"No messages"}),e.unreadCount>0&&(0,s.jsx)("span",{className:"jsx-9aeffe8ff0b86c65 flex-shrink-0 min-w-[20px] h-5 px-1.5 rounded-full bg-jcoder-blue text-white text-[10px] font-bold flex items-center justify-center shadow-lg shadow-jcoder-blue/50",children:e.unreadCount>9?"9+":e.unreadCount})]})]})]})},e.id))})})]}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex-1 flex flex-col bg-jcoder-card",children:N?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 p-4 border-b border-jcoder bg-jcoder-card flex items-center gap-3",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 w-10 h-10 rounded-full bg-jcoder-gradient flex items-center justify-center text-black font-semibold text-sm",children:ea(N.senderName)}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex-1",children:[(0,s.jsx)("h3",{className:"jsx-9aeffe8ff0b86c65 font-semibold text-jcoder-foreground",children:N.senderName}),(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted",children:N.senderEmail})]})]}),(0,s.jsxs)("div",{ref:K,className:"jsx-9aeffe8ff0b86c65 flex-1 overflow-y-auto p-4 space-y-4",children:[C?(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 space-y-3",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex justify-start",children:(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 max-w-xs lg:max-w-md bg-jcoder-secondary rounded-2xl p-3 animate-pulse",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 h-4 w-full bg-jcoder-card rounded mb-2"}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 h-4 w-3/4 bg-jcoder-card rounded"})]})},e))}):0===k.length?(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 text-center py-12",children:[(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9aeffe8ff0b86c65 w-16 h-16 mx-auto text-jcoder-muted/30 mb-4",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",className:"jsx-9aeffe8ff0b86c65"})}),(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-jcoder-muted",children:"No messages in this conversation"})]}):(0,s.jsx)(s.Fragment,{children:k.map((e,a)=>{let t=!!e.readAt,r=a>0?k[a-1]:null,c=!r||(()=>{let s=new Date(e.createdAt),a=new Date(r.createdAt);return s.toDateString()!==a.toDateString()})();return(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65",children:[c&&(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center justify-center my-4",children:(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 px-3 py-1 bg-jcoder-secondary/50 rounded-full",children:(0,s.jsx)("span",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted font-medium",children:(()=>{let s="string"==typeof e.createdAt?new Date(e.createdAt):e.createdAt,a=new Date,t=new Date(a.getFullYear(),a.getMonth(),a.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate()),c=new Date(t);return(c.setDate(c.getDate()-1),r.getTime()===t.getTime())?"Today":r.getTime()===c.getTime()?"Yesterday":s.toLocaleDateString("en-US",{month:"long",day:"numeric",year:s.getFullYear()!==a.getFullYear()?"numeric":void 0})})()})})}),null!==L&&a===L&&(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 "+"flex items-center justify-center my-4 transition-opacity duration-500 ".concat(U?"opacity-100":"opacity-0"),children:(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center gap-2 px-4 py-1.5 bg-jcoder-blue/20 border border-jcoder-blue/40 rounded-full backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 w-1.5 h-1.5 rounded-full bg-jcoder-blue animate-pulse"}),(0,s.jsx)("span",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-blue font-semibold",children:"Novas mensagens"}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 w-1.5 h-1.5 rounded-full bg-jcoder-blue animate-pulse"})]})}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex justify-start",children:(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 max-w-xs lg:max-w-md bg-jcoder-secondary rounded-2xl p-3 relative border border-jcoder",children:[(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-sm text-jcoder-foreground whitespace-pre-wrap break-words",children:e.message}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center justify-end gap-2 mt-2",children:[(0,s.jsx)("span",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted",children:es(e.createdAt)}),t&&(0,s.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"jsx-9aeffe8ff0b86c65 w-4 h-4 text-blue-500",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd",className:"jsx-9aeffe8ff0b86c65"})})]})]})})]},e.id)})}),(0,s.jsx)("div",{ref:O,className:"jsx-9aeffe8ff0b86c65"})]})]}):(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex-1 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 text-center",children:[(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9aeffe8ff0b86c65 w-24 h-24 mx-auto text-jcoder-muted/30 mb-4",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",className:"jsx-9aeffe8ff0b86c65"})}),(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-jcoder-muted text-lg font-medium",children:"Select a conversation"}),(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-sm text-jcoder-muted/70 mt-1",children:"Choose a conversation from the list to view messages"})]})})})]}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 md:hidden flex-1 flex flex-col overflow-hidden",children:"conversations"===E?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 p-4 border-b border-jcoder bg-jcoder-card",children:[(0,s.jsx)("h2",{className:"jsx-9aeffe8ff0b86c65 text-lg font-semibold text-jcoder-foreground",children:"Conversations"}),(0,s.jsxs)("p",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted mt-1",children:[w.length," ",1===w.length?"conversation":"conversations"]})]}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex-1 overflow-y-auto",children:m?(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 p-4 space-y-3",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center gap-3 p-3 bg-jcoder-secondary rounded-lg animate-pulse",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 w-12 h-12 rounded-full bg-jcoder-secondary"}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex-1",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 h-4 w-24 bg-jcoder-secondary rounded mb-2"}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 h-3 w-full bg-jcoder-secondary rounded"})]})]},e))}):0===w.length?(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 p-8 text-center",children:[(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9aeffe8ff0b86c65 w-16 h-16 mx-auto text-jcoder-muted/50 mb-4",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",className:"jsx-9aeffe8ff0b86c65"})}),(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-jcoder-muted",children:"No conversations yet"}),(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-sm text-jcoder-muted/70 mt-1",children:"Messages from your portfolio will appear here"})]}):(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 divide-y divide-jcoder/50",children:w.map(e=>(0,s.jsx)("button",{onClick:()=>Z(e),className:"jsx-9aeffe8ff0b86c65 w-full p-4 text-left hover:bg-jcoder-secondary transition-colors cursor-pointer",children:(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-start gap-3",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex-shrink-0 w-12 h-12 rounded-full bg-jcoder-gradient flex items-center justify-center text-black font-semibold text-sm",children:ea(e.senderName)}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center justify-between mb-1",children:[(0,s.jsx)("h3",{className:"jsx-9aeffe8ff0b86c65 font-semibold text-sm text-jcoder-foreground truncate",children:e.senderName}),e.lastMessageAt&&(0,s.jsx)("span",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted flex-shrink-0 ml-2",children:ee(e.lastMessageAt)})]}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center justify-between gap-2",children:[(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted truncate flex-1",children:e.lastMessagePreview||"No messages"}),e.unreadCount>0&&(0,s.jsx)("span",{className:"jsx-9aeffe8ff0b86c65 flex-shrink-0 min-w-[20px] h-5 px-1.5 rounded-full bg-jcoder-blue text-white text-[10px] font-bold flex items-center justify-center shadow-lg shadow-jcoder-blue/50",children:e.unreadCount>9?"9+":e.unreadCount})]})]})]})},e.id))})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 p-4 border-b border-jcoder bg-jcoder-card flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:$,className:"jsx-9aeffe8ff0b86c65 p-2 hover:bg-jcoder-secondary rounded-lg transition-colors",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9aeffe8ff0b86c65 w-5 h-5 text-jcoder-foreground",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7",className:"jsx-9aeffe8ff0b86c65"})})}),N&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 w-10 h-10 rounded-full bg-jcoder-gradient flex items-center justify-center text-black font-semibold text-sm",children:ea(N.senderName)}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex-1",children:[(0,s.jsx)("h3",{className:"jsx-9aeffe8ff0b86c65 font-semibold text-jcoder-foreground",children:N.senderName}),(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted",children:N.senderEmail})]})]})]}),(0,s.jsxs)("div",{ref:X,className:"jsx-9aeffe8ff0b86c65 flex-1 overflow-y-auto p-4 space-y-4",children:[C?(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 space-y-3",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex justify-start",children:(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 max-w-xs bg-jcoder-secondary rounded-2xl p-3 animate-pulse",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 h-4 w-full bg-jcoder-card rounded mb-2"}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 h-4 w-3/4 bg-jcoder-card rounded"})]})},e))}):0===k.length?(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 text-center py-12",children:[(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9aeffe8ff0b86c65 w-16 h-16 mx-auto text-jcoder-muted/30 mb-4",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",className:"jsx-9aeffe8ff0b86c65"})}),(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-jcoder-muted",children:"No messages in this conversation"})]}):(0,s.jsx)(s.Fragment,{children:k.map((e,a)=>{let t=!!e.readAt,r=a>0?k[a-1]:null,c=!r||(()=>{let s=new Date(e.createdAt),a=new Date(r.createdAt);return s.toDateString()!==a.toDateString()})();return(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65",children:[c&&(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center justify-center my-4",children:(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 px-3 py-1 bg-jcoder-secondary/50 rounded-full",children:(0,s.jsx)("span",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted font-medium",children:(()=>{let s="string"==typeof e.createdAt?new Date(e.createdAt):e.createdAt,a=new Date,t=new Date(a.getFullYear(),a.getMonth(),a.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate()),c=new Date(t);return(c.setDate(c.getDate()-1),r.getTime()===t.getTime())?"Today":r.getTime()===c.getTime()?"Yesterday":s.toLocaleDateString("en-US",{month:"long",day:"numeric",year:s.getFullYear()!==a.getFullYear()?"numeric":void 0})})()})})}),null!==L&&a===L&&(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 "+"flex items-center justify-center my-4 transition-opacity duration-500 ".concat(U?"opacity-100":"opacity-0"),children:(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center gap-2 px-4 py-1.5 bg-jcoder-blue/20 border border-jcoder-blue/40 rounded-full backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 w-1.5 h-1.5 rounded-full bg-jcoder-blue animate-pulse"}),(0,s.jsx)("span",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-blue font-semibold",children:"Novas mensagens"}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 w-1.5 h-1.5 rounded-full bg-jcoder-blue animate-pulse"})]})}),(0,s.jsx)("div",{className:"jsx-9aeffe8ff0b86c65 flex justify-start",children:(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 max-w-[85%] bg-jcoder-secondary rounded-2xl p-3 relative border border-jcoder",children:[(0,s.jsx)("p",{className:"jsx-9aeffe8ff0b86c65 text-sm text-jcoder-foreground whitespace-pre-wrap break-words",children:e.message}),(0,s.jsxs)("div",{className:"jsx-9aeffe8ff0b86c65 flex items-center justify-end gap-2 mt-2",children:[(0,s.jsx)("span",{className:"jsx-9aeffe8ff0b86c65 text-xs text-jcoder-muted",children:es(e.createdAt)}),t&&(0,s.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"jsx-9aeffe8ff0b86c65 w-4 h-4 text-blue-500",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd",className:"jsx-9aeffe8ff0b86c65"})})]})]})})]},e.id)})}),(0,s.jsx)("div",{ref:O,className:"jsx-9aeffe8ff0b86c65"})]})]})})]})]})}),(0,s.jsx)(t.default,{user:p,username:x||(null==p?void 0:p.username)}),(0,s.jsx)(a.default,{id:"9aeffe8ff0b86c65",children:".delay-1000.jsx-9aeffe8ff0b86c65{animation-delay:1s}"})]})}}]);